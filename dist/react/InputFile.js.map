{"version":3,"file":"InputFile.js","sources":["../../src/react/InputFile.js"],"sourcesContent":["import PropTypes from 'prop-types'\nimport { Loader, Icon } from './index';\nimport React, { useRef } from 'react';\nimport { iconMap } from './iconMap'\n\nconst allIconNames = Object.keys(iconMap) || []\n\nexport default function InputFile(props) {\n    \n    const {\n        state = 'default',\n        text = 'Choose File',\n        bgColor = null,\n        size = 'medium',\n        label = 'File Upload',\n        helperText = 'help text',\n        icon = 'cloud-upload',\n        textAlign,\n        hasOutline = true,\n        width = 'auto',\n        onChange = () => console.log('File uploaded'),\n        accept = '',\n        attributes,\n        listeners\n      } = props;\n\n\n    const sizeStyles = size == 'small' ? `py-0.5 px-2 gap-1.5 text-xs` : size == 'large' ? `py-2 px-3 gap-3 text-base` : `py-1.5 px-2 gap-3 text-sm`;\n    const cornerStyles = size == \"small\" ? \"rounded\" : size == \"large\" ? \"rounded-lg\" : \"rounded-md\"\n    \n    let stateStyles = hasOutline ? `border border-base-300` : 'border border-transparent';\n    switch (state) {\n        case 'disabled':\n            stateStyles = `bg-base-100 opacity-70 cursor-not-allowed ${hasOutline ? 'border border-base-300' : ''}`;\n            break;\n        case 'error':\n            stateStyles = `text-warning-content ${hasOutline ? 'border border-warning-content' : ''}`;\n            break;\n        case 'success':\n            stateStyles = `text-success-content ${hasOutline ? 'border border-success-content' : ''}`;\n            break;\n    }\n    \n    const bgStyles = (bgColor && bgColor !== 'none') ? `bg-${bgColor}` : '';\n    let classes = `w-full flex items-center justify-between relative truncate ellipsis box-border font-medium ${sizeStyles} ${cornerStyles} ${bgStyles} ${stateStyles}`\n    \n    const labelTextSize = size == 'small' ? `text-xs` :  size == 'large' ? `text-lg`: `text-sm`;\n    const labelClasses = `${labelTextSize} font-medium`\n\n    const messageTextColor = state == 'error' ? stateStyles = 'text-warning-content' : state == 'success' ? stateStyles = 'text-success-content' : ''\n    const messageClasses = `text-sm font-sm ${messageTextColor}`\n\n    const widthStyle = width != 'auto' ? `w-${width}` : size == 'small' ? 'min-w-[120px]' : size == 'large' ? 'min-w-[200px]' : 'min-w-[160px]'\n\n    const gapStyles = size == 'small' ? 'gap-0.5' : size == 'large' ? 'gap-1.5' : 'gap-1'\n    let wrapperClasses = `flex flex-col ${widthStyle} ${gapStyles}`\n\n    const IconComponent = icon == 'none' ? null : <Icon icon={icon} className='flex-shrink-0 flex-grow-0' />\n\n    const fileInputRef = useRef(null);\n\n    const handleFileChange = (event) => {\n        if (onChange) {\n            onChange(event.target.files);\n        }\n    };\n\n    return (\n        <div\n        {...attributes} {...listeners} \n            className={wrapperClasses}\n        >\n            {label && <label className={labelClasses}>\n{label}\n            </label>}\n\n                <div className={classes} style={{boxSizing: 'border-box'}}>\n                <input\n                    ref={fileInputRef}\n                    type=\"file\"\n                    style={{ \n                        opacity: '0', \n                        position: 'absolute',\n                        width: '100%',\n                        height: '100%',\n                        cursor: 'pointer',\n                    }}\n                    onChange={handleFileChange}\n                    accept={accept}\n                />\n\n                    {state == 'loading' ? <Loader size={'small'} type='spinner' opacity='50' /> : IconComponent}\n                    <div className={`flex-grow text-${textAlign}`}>\n                    {state == 'loading' ? 'Uploading' : \ntext}\n                    </div>\n                </div>\n                \n                {helperText && <span className={messageClasses}>\n{helperText}\n                </span>}\n            \n            </div>\n        \n    );\n}\n\nInputFile.propTypes = {\n    state: PropTypes.oneOf(['loading', 'default', 'disabled', 'error', 'success']),\n    label: PropTypes.string,\n    text: PropTypes.string,\n    helperText: PropTypes.string,\n    size: PropTypes.oneOf(['small', 'medium', 'large']),\n    width: PropTypes.oneOf(['auto', '1/2', 'full']),\n    bgColor: PropTypes.oneOf(['none', 'base-0', 'base-100']),\n    icon: PropTypes.oneOf(['none', ...allIconNames]),\n    hasOutline: PropTypes.bool, \n    onChange: PropTypes.func,\n    accept: PropTypes.string,\n};\n\n"],"names":[],"mappings":"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"}