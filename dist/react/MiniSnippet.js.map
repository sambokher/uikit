{"version":3,"file":"MiniSnippet.js","sources":["../../src/react/MiniSnippet.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';import PropTypes from 'prop-types'\nimport { Icon } from './index'\nimport { useState } from 'react';\n\nexport default function MiniSnippet(props) {\n\n    const {\n        bgColor = 'base-100',\n        size = 'small',\n        text = 'npm install juno-components',\n        width = 'auto',\n        maxHeight = null,\n        copyButton = true,\n        hasOutline = true,\n        attributes,\n        listeners\n      } = props;\n    \n    const widthStyle = width == 'auto' ? `w-auto` : `w-${width}`\n    const sizeStyles =  size == 'small' ? `py-1.5 px-3 gap-2 text-xs` : `py-2.5 px-4 gap-3 text-sm`;\n    const cornerStyles = size == \"small\" ? \"rounded\" :  \"rounded-md\"\n    const bgStyles = `bg-${bgColor}`\n    const borderStyles = hasOutline ? `border border-base-300` : `border border-transparent`\n\n    let wrapperClasses = `flex flex-col ${widthStyle} ${borderStyles} ${cornerStyles} ${bgStyles} relative group`\n\n    const contentClasses = `flex flex-row justify-between font-medium items-start overflow-y-scroll relative group flex-shrink-0 font-mono ${sizeStyles} w-full`\n\n    const [copied, setCopied] = useState(false)\n\n    const copyToClipboard = () => {\n      navigator.clipboard.writeText(text).then(() => {\n        setCopied(true);\n        setTimeout(() => setCopied(false), 3000); \n      })\n      .catch(err => {\n        console.log('Something went wrong', err);\n      });\n    }\n    const buttonOffsets = size == 'small' ? 'top-1.5 right-3' : 'top-2.5 right-4'\n\n    const [expanded, setExpanded] = useState(false); \n    const [isOverflowing, setIsOverflowing] = useState(false);\n\n    const contentRef = useRef(null);\n\n    useEffect(() => {  \n       if (!maxHeight || maxHeight == null) return;\n        if (contentRef.current) {\n            setIsOverflowing(contentRef.current.scrollHeight > maxHeight);\n        }\n    }, [maxHeight, text]);\n\n    return (\n        <div\n            className={wrapperClasses}\n            {...attributes} {...listeners} \n        >\n            <pre \n                style={{ whiteSpace: 'pre-wrap', maxHeight: expanded ? 'none' : maxHeight, overflow: 'hidden'}} className={contentClasses}\n                ref={contentRef}>\n{text}\n            </pre>\n\n            {/* COPY BUTTON */}\n            {copyButton && <div \n                className={`absolute ${buttonOffsets} ${bgStyles} transition-all rounded z-10 flex items-center justify-center cursor-pointer group`}\n                onClick={copyToClipboard}\n            >\n                <Icon icon={copied ? 'check' : 'copy'} className={`hover:scale-110 transition-all duration-150 ${size == \"small\" ? \"w-4 h-4\" : \"w-5 h-5\"}`} size={size =='small' ? '16px' : '20px'} />\n            </div>}\n\n             {/* SHOW MORE BUTTON */}\n            {maxHeight && isOverflowing &&  (\n                <button \n                    className={`py-2 self-center mx-auto text-xs text-primary opacity-50 hover:opacity-100 transition-all duration-150`} \n                    onClick={() => setExpanded(!expanded)}\n                >\n                    {!expanded ? 'Expand' : 'Collapse'}\n                </button>\n            )}\n        </div>\n    );\n}\n\nMiniSnippet.propTypes = {\n    size: PropTypes.oneOf(['small', 'medium']),\n    width: PropTypes.oneOf(['auto', '1/2', 'full']),\n    bgColor: PropTypes.oneOf(['base-0', 'base-50', 'base-100', 'base-200']),\n    hasOutline: PropTypes.bool,\n    copyButton: PropTypes.bool,\n    text: PropTypes.string,\n};\n\n"],"names":[],"mappings":"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"}