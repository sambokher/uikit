{"version":3,"file":"TabGroup.js","sources":["../../src/react/TabGroup.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useState, useRef, useLayoutEffect, useEffect } from 'react';\nimport { Icon } from './index'\nimport { iconMap } from './iconMap'\n\nconst allIconNames = Object.keys(iconMap) || []\n\nconst sampleTabs = [\n    { name: 'Home', icon: 'home', isActive: true },\n    { name: 'Help', icon: 'support', isActive: false },\n    { name: 'Settings', icon: 'settings', isActive: false },\n    { name: 'Balances', icon: 'chart-up', isActive: false },\n];\n\nexport default function TabGroup(props) {\n    const {\n        tabs: externalTabs,\n        selectColor = 'accent',\n        size = 'medium',\n        underlineAll=true,\n        onSelect, \n        attributes,\n        listeners\n    } = props;\n    \n\n    const [internalTabs, setInternalTabs] = useState(externalTabs || sampleTabs);\n    const isControlled = externalTabs !== undefined && onSelect !== undefined;\n    const tabs = isControlled ? externalTabs : internalTabs;\n    \n    function handleTabClick(e, name) {\n        e.stopPropagation();\n        \n        if (isControlled && onSelect) {\n            onSelect(name);\n        } else {\n            let newTabs = [...tabs]\n            newTabs = newTabs.map(tab => tab.name === name ? {...tab, isActive: true} : { ...tab, isActive: false });\n            setInternalTabs(newTabs);\n        }\n    }\n    \n\n    let sizeStyles = size === 'small' ? `py-1 text-xs gap-1.5 -ml-2` :  \n        size === 'large' ? `py-3 gap-3 text-md -ml-2` : `py-1.5 gap-2 text-sm -ml-2`;\n\n    let wrapperClasses = `flex flex-row items-center w-full relative`;\n\n\n    const tabStyles = `px-2 py-0.5 cursor-pointer hover:bg-base-50 rounded-md transition-colors duration-150 font-medium\n     opacity-70 hover:opacity-100 items-center transition-opacity select-none`;\n    const activeStyles = `text-${selectColor} !opacity-100`;\n    \n    const tabRefs = useRef([]);\n    // Effect to sync internal state with external `tabs` prop\n    useEffect(() => {\n        if (!isControlled) {\n            setInternalTabs(externalTabs || sampleTabs);\n        }\n    }, [externalTabs, isControlled]);\n\n    const [underlineStyle, setUnderlineStyle] = useState({});\n    useLayoutEffect(() => {\n        const activeTab = tabs.findIndex(tab => tab.isActive);\n        if (tabRefs.current[activeTab]) {\n            const { offsetLeft, clientWidth } = tabRefs.current[activeTab];\n            setUnderlineStyle({\n                left: offsetLeft + 'px',\n                width: clientWidth + 'px',\n                height: size === 'small' ? '2px' : size === 'large' ? '3px' : '2.5px',\n            });\n        }\n    }, [tabs, size]); \n\n    return (\n        <div {...attributes} {...listeners} className={wrapperClasses}\n        >\n            <div className={`w-full flex flex-row items-center ${sizeStyles}`}>\n            {tabs.map((tab, index) => (\n                <div key={index}\n                onClick={(e) => handleTabClick(e, tab.name)}\n                className={`${tabStyles} ${tab.isActive ? activeStyles : ''}`}\n                >   \n                    <span className='flex flex-row gap-1 whitespace-nowrap items-center'\n                    ref={el => tabRefs.current[index] = el}\n                    >   \n                    {tab.icon && <Icon icon={tab.icon} className='scale-75 -ml-1 stroke-[2px]' />}\n                    {tab.name}</span>\n                </div>\n            ))}\n            </div>\n            <div \n                className={`absolute bottom-0 left-0 h-px w-full rounded-full\n                ${ underlineAll ? 'bg-base-200' : 'bg-transparent'} `}\n            ></div>\n            <div \n                className={`absolute bottom-0 bg-${selectColor} transition-all rounded-sm`}\n                style={underlineStyle}\n            ></div>\n        </div>\n    );\n}\n\nTabGroup.propTypes = {\n    tabs: PropTypes.arrayOf(PropTypes.shape({\n        name: PropTypes.string,\n        icon: PropTypes.oneOf(allIconNames),\n        isActive: PropTypes.bool\n    })),\n    selectColor: PropTypes.oneOf(['primary', 'accent', 'base-content', 'base-700', 'base-500', 'base-300', 'base-100']),\n    onSelect: PropTypes.func,\n    size: PropTypes.oneOf(['small', 'medium', 'large']),\n    underlineAll: PropTypes.bool,\n};\n\n"],"names":[],"mappings":"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"}